<div class="animate__animated animate__fadeIn animate__faster row m-0">

  <home-view-header title="Incidencias" [enableTourButton]="false"></home-view-header>

  <div class="col-12 p-0 mb-4">

    <div class="row m-0">

      <div class="col-1 pl-0">
<!--         <img [src]="proyecto.icono" alt="icono" class="big-icon"> -->
      </div>
  
      <div class="col-4">
        <!-- <strong>Proyecto: </strong> <span class="texto_proyecto">{{proyecto.nombre}}</span>
        <div class="espacio_vertical">
          <strong>Módulos: </strong><span *ngFor="let modulos of proyecto.modulos"> <img [src]="modulos.icono_modulo"
              alt="icono" class="icon_modulo" /></span>
        </div> -->
      </div>
  
      <div class="offset-1 col-3">
        <input type="text" name="usuario" placeholder="Buscar" class="finder" [(ngModel)]="var_buscar" (ngModelChange)="buscar(var_buscar)" >
        <img src="assets/icons/LUPA.png" alt="LUPA" class="magnifying-glass small-icon">
      </div>
  
      <div class="offset-1 col-2 pl-1 pr-0">
        <button class="btn btn-info btn-block" (click)="nueva_solicitud()">Nueva incidencia</button>
      </div>

    </div>

  </div>

  <div class="col-12 p-0 scrollable">

    <table class="table table-borderless table-striped  table-hover">
      <thead class="color_table py-3" align="center">
        <tr class="cabecera">
          <th scope="col" class="texto_tabla">Solicitud</th>
          <th scope="col" class="texto_tabla">Módulo</th>
          <th scope="col" class="texto_tabla">Estado</th>
          <th scope="col" class="texto_tabla">Tipo</th>
          <th scope="col" class="texto_tabla">Elemento</th>
          <th scope="col" class="texto_tabla">Descripción</th>
          <th scope="col" class="texto_tabla">Técnico</th>
          <th scope="col" class="texto_tabla">Prioridad</th>
          <th scope="col" class="texto_tabla">Localicación</th>
          <th scope="col" class="texto_tabla">Fecha</th>
        </tr>
      </thead>
      <tbody  align="center">
  <tr *ngIf="carga_datos==0">
    <th scope="row">
      <ngx-skeleton-loader count="1" animation="pulse" appearance="line"></ngx-skeleton-loader></th>
          <td><ngx-skeleton-loader count="1" animation="pulse" appearance="line"></ngx-skeleton-loader></td>
          <td><ngx-skeleton-loader count="1" animation="pulse" appearance="line"></ngx-skeleton-loader></td>
          <td><ngx-skeleton-loader count="1" animation="pulse" appearance="line"></ngx-skeleton-loader></td>
          <td><ngx-skeleton-loader count="1" animation="pulse" appearance="line"></ngx-skeleton-loader></td>
          <td><ngx-skeleton-loader count="1" animation="pulse" appearance="line"></ngx-skeleton-loader></td>
          <td><ngx-skeleton-loader count="1" animation="pulse" appearance="line"></ngx-skeleton-loader></td>
          <td><ngx-skeleton-loader count="1" animation="pulse" appearance="line"></ngx-skeleton-loader></td>
          <td><ngx-skeleton-loader count="1" animation="pulse" appearance="line"></ngx-skeleton-loader></td>
          <td><ngx-skeleton-loader count="1" animation="pulse" appearance="line"></ngx-skeleton-loader></td>
        </tr>
        <tr *ngIf="carga_datos==2">
          No hay datos que mostrar
        </tr>
        <ng-container *ngFor="let item of _solicitudes; let i = index" class="animate__animated animate__fadeIn">
          <tr (click)="ver(item)" *ngIf="i >= valor_0 && i<valor_1"
            class="animate__animated animate__fadeIn cursor_pointer">
            <th scope="row">{{item.id_solicitud}}</th>
            <td><span *ngFor="let modulos of proyecto.modulos"> <img [src]="modulos.icono_modulo" alt="icono"
                  class="icon_modulo" /></span></td>
            <td><span *ngIf="item.descripcion_estado=='Pendiente de aprobación'"class="badge badge-secondary">{{item.descripcion_estado}}</span><span *ngIf="item.descripcion_estado=='Aceptado'"class="badge badge-primary">{{item.descripcion_estado}}</span> <span *ngIf="item.descripcion_estado=='Culminado'"class="badge badge-success">{{item.descripcion_estado}}</span><span *ngIf="item.descripcion_estado=='En espera'"class="badge badge-warning">{{item.descripcion_estado}}</span><span *ngIf="item.descripcion_estado=='Rechazado'"class="badge badge-danger">{{item.descripcion_estado}}</span></td>
            <td>{{item.tipo_id}}</td>
            <td>{{item.elemento_id}}</td>
            <td>{{item.descripcion}}</td>
            <td><span class="circuloIniciales">{{item.iniciales}}</span></td>
            <td>{{item.descripcion_priodidad}}</td>
            <td>{{item.localizacion.substr(0,20)}}...</td>
            <td>{{item.fecha | date:'dd/MM/yyyy'}}</td>

          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>

  <div align="right" class="col-12 p-0" *ngIf="carga_datos==1">
        <hr>
        <span>
          Mostrando {{suma_diez_diez}} de {{suma_total}} Registros &nbsp;&nbsp;&nbsp;
        </span>
        <div class="btn-group"  role="group" aria-label="Basic example">
          <button type="button" class="btn btn1 btn-light" (click)="resta_valor(10)"><</button>
          <button type="button" class="btn btn1 btn-light">{{valor_0_1}}</button>
          <button type="button" class="btn btn1 btn-light" (click)="suma_valor(10)">></button>
        </div>
  </div>

</div>